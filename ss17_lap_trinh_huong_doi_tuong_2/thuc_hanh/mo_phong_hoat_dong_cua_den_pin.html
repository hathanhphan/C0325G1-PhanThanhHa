<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Xây dựng lớp mô phỏng sự hoạt động của đèn pin</title>
</head>
<body>
    <h1>Luyện tập tạo lớp, khởi tạo đối tượng, sử dụng phương thức và thuộc tính của đối tượng.</h1>
    <script>
        class Battery {
            #energy;
            constructor(energy) {
                this.#energy = energy;
            }
            setEnergy (energy) {
                this.#energy = energy;
            }
            getEnergy () {
                return this.#energy;
            }
            decreaseEnergy () {
                if (this.#energy > 0) {
                    this.#energy -= 1;
                }
            }
        }
        class FlashLamp {
            #status;
            #battery;
            constructor(status) {
                this.#status = status;
            }
            setBattery (battery) {
                this.#battery = battery;
            }
            getBatteryInfo () {
                return this.#battery.getEnergy();
            }
            light() {
                if (this.#status) {
                    console.log("Lighting");
                } else {
                    console.log("Not lighting");
                }
            }
            turnOn() {
                this.#status = true;
            }
            turnOff() {
                this.#status = false;
            }
        }
        const flashLamp = new FlashLamp();
        const battery = new Battery();
        battery.setEnergy(10);
        flashLamp.setBattery(battery);
        document.write("Battery info:" + flashLamp.getBatteryInfo() + "<br>");
        flashLamp.light();

        document.write("Turn on<br/>")
        flashLamp.turnOn();
        flashLamp.light();
        document.write("Battery info:" + flashLamp.getBatteryInfo() + "<br>");

        document.write("Turn off<br>")
        flashLamp.turnOff();
        flashLamp.light();
    </script>
</body>
</html>